{"version":3,"file":"bundle.js","sources":["../../src/GameUtil.ts","../../src/ResData.ts","../../src/Obstacle.ts","../../src/Bubble.ts","../../src/GameMap.ts","../../src/GameControl.ts","../../src/test.ts","../../src/GameConfig.ts","../../src/Main.ts"],"sourcesContent":["\r\n\r\nexport class GameUtil{\r\n\r\n    /**\r\n     * 构造圆形泡泡的顶点列表\r\n     * @param centerX \r\n     * @param centerY \r\n     * @param radius \r\n     * @param vtCount \r\n     */\r\n    public static MakeRegularBubble(centerX,centerY,radius,vtCount=512){\r\n        var points = vtCount; //多边形边的总数目\r\n        var twoPi = 2 * Math.PI;\r\n        var ptList = [];\r\n        var theta = -Math.PI*2/3;\r\n        var x0, y0;\r\n        x0 = centerX + radius * Math.cos(theta);\r\n        y0 = centerY + radius * Math.sin(theta);\r\n        for (var i = 0; i < points; i++) {\r\n            theta += twoPi / points;\r\n            let x = centerX + radius * Math.cos(theta)-x0;\r\n            let y = centerY + radius * Math.sin(theta)-y0;\r\n            ptList.push(x);\r\n            ptList.push(y);\r\n        }\r\n        return [x0,y0,ptList];\r\n    }\r\n\r\n    /**\r\n     * 构造一边圆形另一边贝塞尔曲线形状泡泡的顶点列表\r\n     * 模拟泡泡移动拖尾变形\r\n     * @param centerX \r\n     * @param centerY \r\n     * @param radius \r\n     * @param xOffset \r\n     * @param yOffset \r\n     * @param vtCount \r\n     */\r\n    public static MakeBezierBubble(centerX,centerY,radius,xOffset=0,yOffset=0,vtCount=512){\r\n        var points = vtCount; //多边形边的总数目\r\n        var twoPi = 2 * Math.PI;\r\n        var ptList = [];\r\n        var theta = -Math.PI*2/3;\r\n        var x0, y0;\r\n        x0 = centerX + radius * Math.cos(theta);\r\n        y0 = centerY + radius * Math.sin(theta);\r\n        //圆形这边半径稍微加些偏移,模拟捏扁\r\n        let ptCount1 = Math.floor(points*2/3);\r\n        for (var i = 0; i < ptCount1; i++) {\r\n            theta += twoPi / points;\r\n            let offset = 0;//Math.sin((i+1)*Math.PI/ptCount1)*radius;\r\n            let x = centerX + (radius+offset) * Math.cos(theta)-x0;\r\n            let y = centerY + (radius+offset) * Math.sin(theta)-y0;\r\n            ptList.push(x);\r\n            ptList.push(y);\r\n        }\r\n        //另外一半用曲线绘制\r\n        let x1 = ptList[ptList.length-2]+x0;\r\n        let y1 = ptList[ptList.length-1]+y0;\r\n        let x3 = x0;\r\n        let y3 = y0;\r\n        let x2 = x1-2*radius+xOffset;\r\n        let y2 = (y1+y3)/2+yOffset;\r\n        let ptCount2 = points-ptCount1;\r\n        for(let i=0;i<ptCount2;++i){\r\n            let percent = i/(ptCount2);\r\n            let x = this.getBezieratX(x1,x2,x3,percent)-x0;\r\n            let y = this.getBezieratY(y1,y2,y3,percent)-y0;\r\n            ptList.push(x);\r\n            ptList.push(y);\r\n        }\r\n        return [x0,y0,ptList];\r\n    }\r\n\r\n    /**\r\n     * 构造随机半径毛边泡泡顶点列表\r\n     * 模拟刺球\r\n     */\r\n    public static MakeRRBubble(centerX, centerY, minRad, maxRad,vtCount=512){\r\n        var points = vtCount; //多边形边的总数目\r\n        var rad, theta;\r\n        var twoPi = 2 * Math.PI;\r\n        var x0, y0; \r\n        theta = -Math.PI*2/3;\r\n        rad =  minRad + Math.random() * (maxRad - minRad); \r\n        var ptList = [];\r\n        x0 = centerX + rad * Math.cos(theta);\r\n        y0 = centerY + rad * Math.sin(theta);\r\n        for (var i = 0; i < points; i++) {\r\n            theta += twoPi / points;\r\n            rad = minRad + Math.random() * (maxRad - minRad); //随机半径\r\n            let x = centerX + rad * Math.cos(theta)-x0;\r\n            let y = centerY + rad * Math.sin(theta)-y0;\r\n            ptList.push(x);\r\n            ptList.push(y);\r\n        }\r\n        return [x0,y0,ptList];\r\n    }\r\n\r\n    /**\r\n     * 构造不规则圆形泡泡:比刺球边缘更平缓\r\n     * @param centerX \r\n     * @param centerY \r\n     * @param minRad \r\n     * @param maxRad \r\n     * @param phase \r\n     */\r\n    public static MakeIrregularBubble(centerX, centerY, minRad, maxRad, phase){\r\n        var point;\r\n        var rad, theta;\r\n        var twoPi = 2 * Math.PI;\r\n        var x0, y0;\r\n        var ptList = [];\r\n        //生成分形细分顶点链表，用来获取随机半径, 9次迭代将返回512个顶点。\r\n        var pointList = this.setLinePoints(9);\r\n        point = pointList.first;\r\n        theta = phase;\r\n        rad = minRad + point.y * (maxRad - minRad);\r\n        x0 = centerX + rad * Math.cos(theta);\r\n        y0 = centerY + rad * Math.sin(theta);\r\n        while (point.next != null) {\r\n            point = point.next;\r\n            theta = twoPi * point.x + phase;\r\n            rad = minRad + point.y * (maxRad - minRad);\r\n            let x = centerX + rad * Math.cos(theta)-x0;\r\n            let y = centerY + rad * Math.sin(theta)-y0;\r\n            ptList.push(x);\r\n            ptList.push(y);\r\n        }\r\n        return [x0,y0,ptList]\r\n    }\r\n\r\n\r\n    private static  setLinePoints(iterations) {\r\n        var pointList:any = {};\r\n        pointList.first = {\r\n            x: 0,\r\n            y: 1\r\n        };\r\n        var lastPoint = {\r\n            x: 1,\r\n            y: 1\r\n        }\r\n        var minY = 1;\r\n        var maxY = 1;\r\n        var point;\r\n        var nextPoint;\r\n        var dx, newX, newY;\r\n     \r\n        pointList.first.next = lastPoint;\r\n        for (var i = 0; i < iterations; i++) {\r\n            point = pointList.first;\r\n            while (point.next != null) {\r\n                nextPoint = point.next;\r\n     \r\n                dx = nextPoint.x - point.x;\r\n                newX = 0.5 * (point.x + nextPoint.x);\r\n                newY = 0.5 * (point.y + nextPoint.y);\r\n                newY += dx * (Math.random() * 2 - 1);\r\n     \r\n                var newPoint:any = {\r\n                    x: newX,\r\n                    y: newY\r\n                };\r\n     \r\n                //min, max\r\n                if (newY < minY) {\r\n                    minY = newY;\r\n                } else if (newY > maxY) {\r\n                    maxY = newY;\r\n                }\r\n     \r\n                //put between points\r\n                newPoint.next = nextPoint;\r\n                point.next = newPoint;\r\n     \r\n                point = nextPoint;\r\n            }\r\n        }\r\n     \r\n        var normalizeRate = 1 / (maxY - minY);\r\n        point = pointList.first;\r\n        while (point != null) {\r\n            point.y = normalizeRate * (point.y - minY);\r\n            point = point.next;\r\n        }\r\n     \r\n        return pointList;\r\n    }\r\n\r\n    /**\r\n     * 返回等待promise对象,方便await使用,单位ms\r\n     * @param time \r\n     */\r\n    public static wait(time){\r\n        return new Promise((resolve)=>{\r\n            Laya.timer.once(time,this,()=>{\r\n                resolve();\r\n            })\r\n        })\r\n    }\r\n\r\n    public static async tween(){\r\n        console.log(\"----------tween-------------\")\r\n        while(true){\r\n            await this.wait(1000);\r\n            console.log(\"当前时间戳: \"+new Date().getTime());\r\n        }\r\n    }    \r\n\r\n    public static getBezieratX(x0:number,x1:number,x2:number, t: number): number {\r\n\t\tt = Math.min(t, 1);\r\n\t\tlet target: number;\r\n\t\ttarget = Math.pow(1 - t, 2) * x0 + 2 * t * (1 - t) * x1 + Math.pow(t, 2) * x2;\r\n\t\treturn target;\r\n    }\r\n    \r\n    public  static getBezieratY(y0:number,y1:number,y2:number, t: number): number {\r\n\t\tt = Math.min(t, 1);\r\n\t\tlet target: number;\r\n\t\ttarget = Math.pow(1 - t, 2) * y0 + 2 * t * (1 - t) * y1 + Math.pow(t, 2) * y2;\r\n\t\treturn target;\r\n    }\r\n    \r\n\t/**\r\n\t  * 获取从开始颜色到结束颜色的简便颜色数组\r\n\t  * @param start 开始颜色\r\n\t  * @param end 结束颜色\r\n\t  * @param steps 要分的份数\r\n\t  * @param gamma \r\n\t  */\r\n     public static gradientColors(start, end, steps, gamma?) {\r\n\t\tvar i, j, ms, me, output = [], so = [];\r\n\t\tgamma = gamma || 1;\r\n\t\tvar normalize = function (channel) {\r\n\t\t\treturn Math.pow(channel / 255, gamma);\r\n\t\t};\r\n\t\tstart = this.parseColor(start).map(normalize);\r\n\t\tend = this.parseColor(end).map(normalize);\r\n\t\tfor (i = 0; i < steps; i++) {\r\n\t\t\tms = i / (steps - 1);\r\n\t\t\tme = 1 - ms;\r\n\t\t\tfor (j = 0; j < 3; j++) {\r\n\t\t\t\tso[j] = this.pad(Math.round(Math.pow(start[j] * me + end[j] * ms, 1 / gamma) * 255).toString(16));\r\n\t\t\t}\r\n\t\t\toutput.push('#' + so.join(''));\r\n\t\t}\r\n\t\treturn output;\r\n    }\r\n\r\n    private static parseColor(hexStr) {\r\n\t\treturn hexStr.length === 4 ? hexStr.substr(1).split('').map(function (s) { return 0x11 * parseInt(s, 16); }) : [hexStr.substr(1, 2), hexStr.substr(3, 2), hexStr.substr(5, 2)].map(function (s) { return parseInt(s, 16); })\r\n\t};\r\n\tprivate static pad(s) {\r\n\t\treturn (s.length === 1) ? '0' + s : s;\r\n    }\r\n    \r\n    public static powerDistance(x1,y1,x2,y2){\r\n        return Math.pow(x2-x1,2)+Math.pow(y2-y1,2);\r\n    }\r\n\r\n    public static clamp(value:number,min:number,max:number):number{\r\n        return value<min?min: value>max?max:value;\r\n    }\r\n\r\n}","export class ResData{\r\n\r\n    public static RES_ATLAS_GAME = \"res/atlas/game.atlas\";\r\n    public static RES_ATLAS_EMOTION = \"res/atlas/chat/emoji.atlas\";\r\n\r\n    public static getObstacleRes(index:number){\r\n        return `game/bubble_${index}.png`;\r\n    }\r\n\r\n    public static getEmotionRes(id:number){\r\n        return `chat/anim/emoji_${id}.ani`\r\n    }\r\n}","import { ResData } from \"./ResData\";\r\n\r\nexport class Obstacle extends Laya.Sprite{\r\n    private _skinIndex:number;\r\n    private _obsSize:number;\r\n    private _beansNum:number;\r\n    constructor(){\r\n        super()\r\n    }\r\n    public init(skinIdx:number,size:number,beansNum:number){\r\n        this.skinIndex = skinIdx;\r\n        this.obsSize = size;\r\n        this._beansNum = beansNum;\r\n    }\r\n\r\n    public get beansNum():number{\r\n        return this._beansNum;\r\n    }\r\n\r\n    public set skinIndex(value:number){\r\n        let res = ResData.getObstacleRes(value);\r\n        this.loadImage(res)\r\n        this._skinIndex = value;\r\n    }\r\n\r\n    public get skinIndex():number{\r\n        return this._skinIndex;\r\n    }\r\n\r\n    public set obsSize(value:number){\r\n        this._obsSize = value;\r\n        this.width=this.height=value;\r\n        this.pivot(value/2,value/2);\r\n    }\r\n\r\n    public get obsSize():number{\r\n        return this._obsSize;\r\n    }\r\n\r\n}\r\n\r\nexport class ObstacleFactory{\r\n    public static POOL_SIGN= \"POOL_OBSTACLE\";\r\n    public static Create(skinIdx:number,size:number=0,beansNum:number=1){\r\n        let obs = Laya.Pool.getItemByClass(this.POOL_SIGN,Obstacle);\r\n        obs.init(skinIdx,size,beansNum);\r\n        return obs;\r\n    }\r\n\r\n    public static Recycle(obs:Obstacle){\r\n        obs.removeSelf();\r\n        Laya.Pool.recover(this.POOL_SIGN,obs);\r\n    }\r\n}","\r\nimport { GameUtil } from \"./GameUtil\";\r\nimport { Obstacle, ObstacleFactory } from \"./Obstacle\";\r\n\r\nexport default class Bubble extends Laya.Sprite{\r\n    public static EMOTION_IDLIST=[1, 10, 11, 13, 15, 16, 17, 18, 19, 2, 21, 23, 27, 4, 8, 9];\r\n    public static SKIN_LIST= ['#ff0000','#ff7d00','#ffff00','#00ff00','0000ff','00ffff','ff00ff'];\r\n    public static TransformTime = 250;\r\n    public static AddCircleByLevels = 10;\r\n    public static AddLevelByBeans=1;\r\n    public static AddSizeByCircle=2;\r\n    public static AddSizeByLevel=1;\r\n    public static InitSize=50;\r\n    private _shapeSp:Laya.Sprite;\r\n    //移动形状顶点列表\r\n    private _moveShape:BubbleShape;\r\n    //空闲形状顶点列表\r\n    private _normalShape:BubbleShape;\r\n    //击杀对方形状顶点列表\r\n    private _killShape:BubbleShape;\r\n    //临时缓存形状顶点列表\r\n    private _tmpShape:BubbleShape;\r\n    //当前形状\r\n    private _curShape:BubbleShape;\r\n    private _initBubbleSize:number;\r\n    private _bubbleSize:number;\r\n    private _isAI:boolean;\r\n    //视野范围\r\n    private _visionRange:number;\r\n    private _visionBubbleList:Bubble[];\r\n    private _visionObsList:Obstacle[];\r\n    //移动速度\r\n    private _moveSpeed:number=10;\r\n    //移动范围\r\n    private _moveBoundary:Laya.Point;\r\n    //距上一帧的移动偏移量\r\n    private _moveDelta:Laya.Point;\r\n    //泡泡状态\r\n    private _state:BubbleState=BubbleState.INVALID;\r\n    //皮肤索引\r\n    private _skinIndex:number;\r\n    //形状变换标志位\r\n    private _isTransforming:boolean;\r\n    private _level:number;\r\n    private _eatBeans:number;\r\n    private _starShapeSp:Laya.Sprite;\r\n    //AI泡泡追踪目标\r\n    private _aimTarget:Laya.Sprite;\r\n    \r\n    constructor(){\r\n        super();\r\n    }\r\n    \r\n    init(size:number,skin:number,isAI:boolean){\r\n        this._shapeSp =  this._shapeSp || new Laya.Sprite();\r\n        this.addChild(this._shapeSp);\r\n        this.initStar(skin);\r\n        this._initBubbleSize = size;\r\n        this._visionRange = Laya.stage.width;\r\n        this._skinIndex =skin;\r\n        this._isAI = isAI;\r\n        this._eatBeans=0;\r\n        this.level=0;\r\n        this.setMoveDelta(0,0);\r\n        this.State = BubbleState.NORMAL;\r\n    }\r\n\r\n    initStar(skinIdx:number){\r\n        this._starShapeSp = this._starShapeSp || new Laya.Sprite();\r\n        let size = 260;\r\n        let halfSize = size/2;\r\n        let path= [];\r\n        path.push(0, -130);//五角星A点坐标\r\n        path.push(33, -33);//五角星B点坐标\r\n        path.push(130, -30);//五角星C点坐标\r\n        path.push(55, 32);//五角星D点坐标\r\n        path.push(85, 130);//五角星E点坐标\r\n        path.push(0, 73);//五角星F点坐标\r\n        path.push(-85, 130);//五角星G点坐标\r\n        path.push(-55, 32);//五角星H点坐标\r\n        path.push(-130, -30);//五角星I点坐标\r\n        path.push(-33, -33);//五角星J点坐标\r\n        this._starShapeSp.graphics.clear();\r\n        this._starShapeSp.size(size,size);\r\n        this._starShapeSp.pivot(halfSize,halfSize+10);\r\n        let idx = (skinIdx+1)%Bubble.SKIN_LIST.length;\r\n        this._starShapeSp.graphics.drawPoly(halfSize,halfSize,path,Bubble.SKIN_LIST[2]);\r\n    }\r\n\r\n    showStar(centerX,centerY,size){\r\n        this.addChild(this._starShapeSp);\r\n        this._starShapeSp.pos(centerX,centerY);\r\n        this._starShapeSp.scale(size/320,size/320);\r\n    }\r\n\r\n    private updateShape(size:number,deltaSize:number){\r\n        let radius = size/2;\r\n        this._killShape = this._killShape || new BubbleShape(BubbleState.SPIKE,radius,radius,radius);\r\n        if(this._normalShape == null){\r\n            this._normalShape = new BubbleShape(BubbleState.NORMAL,radius,radius,radius);\r\n            [this._normalShape.startX,this._normalShape.startY,this._normalShape.ptList] = GameUtil.MakeRegularBubble(radius,radius,radius);\r\n        }else if(this.State == BubbleState.NORMAL){\r\n            //为了保持原形状居中,新尺寸下需要重新绘制\r\n            this._normalShape.startX += deltaSize/2;\r\n            this._normalShape.startY += deltaSize/2;\r\n            this.draw(this._normalShape);\r\n            let oldShape = this._normalShape;\r\n            let newShape = new BubbleShape(BubbleState.NORMAL,radius,radius,radius);\r\n            [newShape.startX,newShape.startY,newShape.ptList] = GameUtil.MakeRegularBubble(radius,radius,radius);\r\n            this.checkTransformShape(oldShape,newShape,Bubble.TransformTime,this.getEaseFun(this.State,this.State));\r\n            //不用等动画完成,直接更新形状数据\r\n            this._normalShape = newShape;\r\n            this._moveShape.centerX = this._moveShape.centerY = this._moveShape.radius = radius;\r\n            [this._moveShape.startX,this._moveShape.startY,this._moveShape.ptList] = GameUtil.MakeBezierBubble(radius,radius,radius);\r\n            this._killShape.centerY = this._killShape.centerY = this._killShape.radius = radius;\r\n            [this._killShape.startX,this._killShape.startY,this._killShape.ptList] = GameUtil.MakeRRBubble(radius,radius,radius,radius+radius*0.2);\r\n        }\r\n        if(this._moveShape == null){\r\n            this._moveShape =  new BubbleShape(BubbleState.MOVE,radius,radius,radius);\r\n            [this._moveShape.startX,this._moveShape.startY,this._moveShape.ptList] = GameUtil.MakeBezierBubble(radius,radius,radius) //GameUtil.MakeBezierBubble(radius,radius,radius);\r\n        }else if(this.State == BubbleState.MOVE){\r\n            //为了保持原形状居中,新尺寸下需要重新绘制\r\n            this._moveShape.startX += deltaSize/2;\r\n            this._moveShape.startY += deltaSize/2;\r\n            this.draw(this._moveShape);\r\n            let oldShape = this._moveShape;\r\n            let newShape = new BubbleShape(BubbleState.MOVE,radius,radius,radius);\r\n            [newShape.startX,newShape.startY,newShape.ptList] = GameUtil.MakeBezierBubble(radius,radius,radius);\r\n            this.checkTransformShape(oldShape,newShape,Bubble.TransformTime,this.getEaseFun(this.State,this.State));\r\n            //不用等动画完成,直接更新形状数据\r\n            this._moveShape = newShape;\r\n            this._normalShape.centerX = this._normalShape.centerY = this._normalShape.radius = radius;\r\n            [this._normalShape.startX,this._normalShape.startY,this._normalShape.ptList] = GameUtil.MakeRegularBubble(radius,radius,radius);\r\n            this._killShape.centerY = this._killShape.centerY = this._killShape.radius = radius;\r\n            [this._killShape.startX,this._killShape.startY,this._killShape.ptList] = GameUtil.MakeRRBubble(radius,radius,radius,radius+radius*0.2);\r\n        }\r\n        this._tmpShape = this._tmpShape || new BubbleShape(BubbleState.TMP,radius,radius,radius);\r\n    }\r\n\r\n    public set bubbleSize(value:number){\r\n        if(this.bubbleSize == value) return;\r\n        let deltaSize = value-this.bubbleSize;\r\n        this._bubbleSize = value;\r\n        this.size(value,value)\r\n        let halfSize = value/2;\r\n        this.pivot(halfSize,halfSize);\r\n        this._shapeSp.size(value,value);\r\n        this._shapeSp.pivot(halfSize,halfSize);\r\n        this._shapeSp.pos(halfSize,halfSize);\r\n        this.updateShape(value,deltaSize);\r\n    }\r\n\r\n    public get visionRange():number{\r\n        return this._visionRange;\r\n    }\r\n\r\n    public set aimTarget(value:Laya.Sprite){\r\n        this._aimTarget = value;\r\n        if(value){\r\n            this.bubbleRotation = Math.atan2(value.y-this.y,value.x-this.x)*180/Math.PI;\r\n            if(this.State == BubbleState.NORMAL){\r\n                this.State = BubbleState.MOVE;\r\n            }\r\n        }\r\n    }\r\n\r\n    public get aimTarget():Laya.Sprite{\r\n        return this._aimTarget;\r\n    }\r\n\r\n    public get bubbleSize():number{\r\n        return this._bubbleSize;\r\n    }\r\n\r\n    public set eatBeans(value:number){\r\n        this._eatBeans = value;\r\n        this.level = Math.floor(value/Bubble.AddLevelByBeans);\r\n    }\r\n\r\n    public get eatBeans():number{\r\n        return this._eatBeans;\r\n    }\r\n\r\n    public set level(value:number){\r\n        this._level = Math.min(value,this.maxLevel);\r\n        this.bubbleSize = this._initBubbleSize+ 2*(Bubble.AddSizeByLevel*this.level+this.circleNums*(Bubble.AddSizeByCircle-Bubble.AddSizeByLevel));\r\n    }\r\n\r\n    public get level():number{\r\n        return this._level;\r\n    }\r\n\r\n    public getSizeByCircleNum(circleNum:number){\r\n        return this._initBubbleSize+ 2*(circleNum*Bubble.AddCircleByLevels*Bubble.AddSizeByLevel+circleNum*(Bubble.AddSizeByCircle-Bubble.AddSizeByLevel));\r\n    }\r\n\r\n    /**\r\n     * 根据等级获得外圈数量\r\n     */\r\n    public get circleNums():number{\r\n        let circleNum = Math.floor(this.level/Bubble.AddCircleByLevels);\r\n        return circleNum;\r\n    }\r\n\r\n    public get maxCircleNum():number{\r\n        return Bubble.SKIN_LIST.length-1;\r\n    }\r\n\r\n    public get maxLevel():number{\r\n        return this.maxCircleNum*Bubble.AddCircleByLevels\r\n    }\r\n\r\n    public clearVisions(){\r\n        this._visionObsList && (this._visionObsList.length=0);\r\n        this._visionBubbleList && (this._visionBubbleList.length=0);\r\n    }\r\n\r\n    public addVisionBubble(target:Bubble){\r\n        this._visionBubbleList = this._visionBubbleList || [];\r\n        this._visionBubbleList.push(target);\r\n    }\r\n\r\n    public addVisionObs(target:Obstacle){\r\n        this._visionObsList = this._visionObsList || [];\r\n        this._visionObsList.push(target);\r\n    }\r\n\r\n    public isInVision(target:Laya.Sprite):boolean{\r\n        if(this._visionBubbleList && this._visionBubbleList.indexOf(target as Bubble) != -1){\r\n            return true;\r\n        }\r\n        if(this._visionObsList && this._visionObsList.indexOf(target as Obstacle) != -1){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private draw(shape:BubbleShape){\r\n        this._shapeSp.graphics.clear();\r\n        let circleNums = this.circleNums;\r\n        let outerColorIdx = (this._skinIndex+circleNums)%Bubble.SKIN_LIST.length;\r\n        let lineColorIdx = (this._skinIndex+1+circleNums)%Bubble.SKIN_LIST.length;\r\n        this._shapeSp.graphics.drawPoly(shape.startX,shape.startY,shape.ptList,Bubble.SKIN_LIST[outerColorIdx],Bubble.SKIN_LIST[lineColorIdx],3);\r\n        if(circleNums >= 1){\r\n            for(let i=circleNums-1;i>=0;--i){\r\n                let size = this.getSizeByCircleNum(i);\r\n                let colorIdx = (this._skinIndex+i)%Bubble.SKIN_LIST.length;\r\n                this._shapeSp.graphics.drawCircle(this.bubbleSize/2,this.bubbleSize/2,size/2,Bubble.SKIN_LIST[colorIdx]);\r\n                if(i == 0){\r\n                    this.showStar(this.bubbleSize/2,this.bubbleSize/2,size);\r\n                }\r\n            }\r\n        }else{\r\n            this.showStar(this._normalShape.centerX,this._normalShape.centerY,this._normalShape.radius*2);\r\n        }\r\n    }\r\n\r\n    public set State(value:BubbleState){\r\n        if(this.State == value) return;\r\n        if(this._state == BubbleState.INVALID && value == BubbleState.NORMAL){\r\n            this._curShape = this._normalShape;\r\n            this.draw(this._normalShape);    \r\n        }else{\r\n            this.checkTransformShape(this.getShape(this._state),this.getShape(value),Bubble.TransformTime,this.getEaseFun(this._state,value));\r\n        }\r\n        this.onStateChange(this.State,value);\r\n        this._state = value;\r\n    }\r\n\r\n    public get State():BubbleState{\r\n        return this._state;\r\n    }\r\n\r\n    private onStateChange(lastState:BubbleState,nowState:BubbleState){\r\n        if(nowState == BubbleState.DEAD){\r\n            BubbleFactory.Recycle(this);\r\n        }\r\n    }\r\n\r\n    public getEaseFun(srcState:BubbleState,dstState:BubbleState):Function{\r\n        if(srcState == BubbleState.NORMAL && dstState == BubbleState.MOVE){\r\n            return Laya.Ease.backOut;\r\n        }else if(srcState == BubbleState.MOVE && dstState == BubbleState.NORMAL){\r\n            return Laya.Ease.backOut;\r\n        }else{\r\n            return Laya.Ease.bounceOut;\r\n        }\r\n    }\r\n\r\n    public getShape(state:BubbleState):BubbleShape{\r\n        if(state == BubbleState.NORMAL){\r\n            return this._normalShape;\r\n        }else if(state == BubbleState.MOVE){\r\n            return this._moveShape;\r\n        }else if(state == BubbleState.SPIKE){\r\n            return this._killShape;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public get bubbleRotation():number{\r\n        return this._shapeSp.rotation;\r\n    }\r\n\r\n    public set bubbleRotation(value:number){\r\n        this._shapeSp.rotation = value;\r\n    }\r\n\r\n    public checkTransformShape(srcShape:BubbleShape,dstShape:BubbleShape,totalTime:number, easeFunc:Function,overrite:boolean=false){\r\n        if(srcShape == null || dstShape == null) return;\r\n        if(!this._isTransforming){\r\n            this.transformShape(srcShape,dstShape,totalTime,easeFunc,overrite);\r\n        }\r\n    }\r\n\r\n    public async transformShape(srcShape:BubbleShape,dstShape:BubbleShape,totalTime:number, easeFunc:Function,overrite:boolean=false){\r\n        if(srcShape.ptList.length != dstShape.ptList.length){\r\n            console.error(\"两个形状顶点数量不一致!\");\r\n            return;\r\n        }\r\n        if(this._isTransforming){\r\n            console.warn(\"正在变形中,不能再次变形\")\r\n            return;\r\n        }\r\n        this._isTransforming=true;\r\n        let step = 30;\r\n        let startTime=0;\r\n        let count = srcShape.ptList.length;\r\n        let srcX = srcShape.startX;\r\n        let srcY = srcShape.startY;\r\n        let dstX = dstShape.startX;\r\n        let dstY = dstShape.startY;\r\n        while(this._isTransforming){\r\n            await GameUtil.wait(step);\r\n            startTime+= step;\r\n            let startX = easeFunc(startTime,srcX,dstX-srcX,totalTime);\r\n            let startY = easeFunc(startTime,srcY,dstY-srcY,totalTime);\r\n            let list =[]\r\n            for(let i=0;i<count;i+=2){\r\n                let x = easeFunc(startTime,srcShape.ptList[i]+srcX,dstShape.ptList[i]+dstX-srcShape.ptList[i]-srcX,totalTime)-startX;\r\n                let y = easeFunc(startTime,srcShape.ptList[i+1]+srcY,dstShape.ptList[i+1]+dstY-srcShape.ptList[i+1]-srcY,totalTime)-startY;\r\n                list.push(x);\r\n                list.push(y);\r\n            }\r\n            this._tmpShape.startX = startX;\r\n            this._tmpShape.startY=startY;\r\n            this._tmpShape.ptList = list;\r\n            this.draw(this._tmpShape);\r\n            if(startTime >= totalTime){\r\n                this._curShape = dstShape;\r\n                this._isTransforming=false;\r\n                this.checkStateShape();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * 形状变换完毕,校验当前形状是否和状态匹配\r\n     */\r\n    private checkStateShape(){\r\n        if(this.State == BubbleState.NORMAL){\r\n            if(this._curShape != this._normalShape){\r\n                this.transformShape(this._curShape,this._normalShape,Bubble.TransformTime,this.getEaseFun(this._curShape.state,this.State));\r\n            }\r\n        }else if(this.State == BubbleState.MOVE){\r\n            if(this._curShape != this._moveShape){\r\n                this.transformShape(this._curShape,this._moveShape,Bubble.TransformTime,this.getEaseFun(this._curShape.state,this.State));\r\n            }\r\n        }else if(this.State == BubbleState.SPIKE){\r\n            if(this._curShape != this._killShape){\r\n                this.transformShape(this._curShape,this._killShape,Bubble.TransformTime,this.getEaseFun(this._curShape.state,this.State));\r\n            }\r\n        }\r\n    }\r\n\r\n    public startMove(targetX:number,targetY:number){\r\n        if(this.State == BubbleState.NORMAL){\r\n            this.State = BubbleState.MOVE;\r\n            this.bubbleRotation= Math.atan2(targetY-this.y,targetX-this.x)*180/Math.PI;\r\n        }\r\n    }\r\n\r\n    public stopMove(){\r\n        if(this.isMoving)\r\n            this.State = BubbleState.NORMAL;\r\n    }\r\n\r\n    public get isMoving():boolean{\r\n        return this.State == BubbleState.MOVE;\r\n    }\r\n\r\n    public get isAlive():boolean{\r\n        return this.State != BubbleState.DEAD;\r\n    }\r\n\r\n    public set moveSpeed(value:number){\r\n        this._moveSpeed = value;\r\n    }\r\n    \r\n    public get moveSpeed():number{\r\n        return this._moveSpeed;\r\n    }\r\n\r\n    public setMoveDelta(deltaX:number,deltaY:number){\r\n        this._moveDelta = this._moveDelta || new Laya.Point();\r\n        this._moveDelta.x = deltaX;\r\n        this._moveDelta.y = deltaY;\r\n    }\r\n\r\n    public get moveDelta():Laya.Point{\r\n        return this._moveDelta;\r\n    }\r\n\r\n    public setMoveBoundary(x:number,y:number){\r\n        this._moveBoundary = this._moveBoundary || new Laya.Point();\r\n        this._moveBoundary.x= x;\r\n        this._moveBoundary.y=y;\r\n    }\r\n\r\n    public get moveBoundary():Laya.Point{\r\n        return this._moveBoundary;\r\n    }\r\n\r\n    public update(){\r\n        if(!this.isAlive) return;\r\n        if(this.isMoving){\r\n            this.updateMove();\r\n        }else{\r\n            this.setMoveDelta(0,0);\r\n        }\r\n        this.autoRotateStar();\r\n    }\r\n\r\n    private autoRotateStar(){\r\n        this._starShapeSp.rotation += 0.5;\r\n    }\r\n\r\n    private updateMove(){\r\n        var radians = this.bubbleRotation*Math.PI/180;\r\n        var xOffset = Math.cos(radians)*this._moveSpeed;\r\n        var yOffset = Math.sin(radians)*this._moveSpeed;\r\n        let preX = this.x;\r\n        let preY = this.y;\r\n        this.x =  GameUtil.clamp(this.x+xOffset,this.bubbleSize/2,this.moveBoundary.x-this.bubbleSize/2);\r\n        this.y=  GameUtil.clamp(this.y+yOffset,this.bubbleSize/2,this.moveBoundary.y-this.bubbleSize/2);\r\n        this.setMoveDelta(this.x-preX,this.y-preY);\r\n    }\r\n\r\n    public get isOnBoundary():boolean{\r\n        if(this.x <= this.width/2 || this.x >= this.moveBoundary.x-this.width/2)\r\n            return true;\r\n        if(this.y <= this.width/2 || this.y >= this.moveBoundary.y-this.width/2)\r\n            return true;\r\n        return false;\r\n    }\r\n\r\n    public async startAILogic(){\r\n        if(!this._isAI) return;\r\n        //当泡泡移除舞台就结束协程\r\n        while (this.displayedInStage) {\r\n            let baseTime =0;\r\n            if(this.isOnBoundary){\r\n                this.bubbleRotation = Math.floor(Math.random()*360);\r\n                this.State = BubbleState.MOVE;\r\n                baseTime = 500;\r\n            }else{\r\n                //先只抢吃豆子\r\n                if(this._visionObsList && this._visionObsList.length > 0){\r\n                    if(this.aimTarget == null){\r\n                        let idx = Math.floor(Math.random()*this._visionObsList.length);\r\n                        this.aimTarget = this._visionObsList[idx];\r\n                    }else if(!this.isInVision(this.aimTarget)){//之前的目标不在视野里,可能被其他吃掉了,就重新再找目标\r\n                        let idx = Math.floor(Math.random()*this._visionObsList.length);\r\n                        this.aimTarget = this._visionObsList[idx];\r\n                    }  \r\n                    baseTime = 500;         \r\n                }else{//没有豆子就随机方向\r\n                    this.aimTarget = null;\r\n                    let rand = Math.random()*100;\r\n                    if(rand <= 50){\r\n                        this.bubbleRotation = Math.floor(Math.random()*360);\r\n                        this.State = BubbleState.MOVE;\r\n                    }else if(rand <=60){\r\n                        this.State = BubbleState.NORMAL;\r\n                    }else{\r\n                        this.State = BubbleState.MOVE;\r\n                    }\r\n                    baseTime = 1000;\r\n                }\r\n            }\r\n            let time = baseTime + Math.floor(Math.random()*500);\r\n            await GameUtil.wait(time);\r\n        }\r\n    }\r\n\r\n    private playEatAnim(){\r\n        Laya.Tween.clearAll(this._shapeSp);\r\n        this._shapeSp.scale(1,1);\r\n        Laya.Tween.from(this._shapeSp,{scaleX:1.3,scaleY:0.7},500,Laya.Ease.bounceOut);\r\n    }\r\n\r\n    private playKillAnim(){\r\n        console.log('播放击杀动画');\r\n        //在播放动画期间停止移动,播放完毕恢复到normal状态\r\n        this.State = BubbleState.SPIKE;\r\n        Laya.timer.once(300,this,this.resumeState,[BubbleState.NORMAL]);\r\n    }\r\n\r\n    private resumeState(state:BubbleState){\r\n        this.State = state;\r\n        console.log(\"击杀动画播放完毕,恢复到待机状态\")\r\n    }\r\n\r\n    public eat(obs:Obstacle){\r\n        this.eatBeans += obs.beansNum;\r\n        this.playEatAnim();\r\n        this.aimTarget = this.aimTarget == obs?null:this.aimTarget;\r\n        ObstacleFactory.Recycle(obs);\r\n    }\r\n\r\n    public kill(b:Bubble){\r\n        console.log(`玩家【${this.name}】击杀了玩家【${b.name}】`)\r\n        b.State = BubbleState.DEAD;\r\n        this.playKillAnim();\r\n    }\r\n\r\n}\r\n\r\nexport class BubbleFactory{\r\n    public static SIGN_BUBBLE = \"POOL_BUBBLE\"; \r\n    public static Create(size:number,skin:number,isAI:boolean){\r\n        let b = Laya.Pool.getItemByClass(this.SIGN_BUBBLE,Bubble);\r\n        b.init(size,skin,isAI);\r\n        return b;\r\n    }\r\n    public static Recycle(bubble:Bubble){\r\n        bubble.removeSelf();\r\n        Laya.Pool.recover(this.SIGN_BUBBLE,bubble);\r\n    }\r\n\r\n}\r\n\r\nclass BubbleShape{\r\n    state:BubbleState;\r\n    centerX:number;\r\n    centerY:number;\r\n    radius:number;\r\n    startX:number;\r\n    startY:number;\r\n    ptList:number[]\r\n    constructor(state:BubbleState,centerX:number,centerY:number,radius:number){\r\n        this.state = state;\r\n        this.centerX = centerX;\r\n        this.centerY = centerY;\r\n        this.radius = radius;\r\n    }\r\n}\r\n\r\nexport enum BubbleState{\r\n    INVALID,\r\n    TMP,\r\n    NORMAL,\r\n    MOVE,\r\n    SPIKE,//刺球形状\r\n    SPIKE2, //边缘光滑的刺球\r\n    DEAD\r\n}\r\n\r\nexport enum AIType{\r\n    Ordinary, //\r\n    Risk, //碰到低等级的就一直追杀\r\n    Coward //碰到高等级的就逃跑\r\n}","import Bubble, { BubbleFactory, BubbleState } from \"./Bubble\";\r\nimport { GameUtil } from \"./GameUtil\";\r\nimport { Obstacle, ObstacleFactory } from \"./Obstacle\";\r\nimport { ResData } from \"./ResData\";\r\n\r\nexport class GameMap extends Laya.Sprite{\r\n    private static _instance:GameMap;\r\n    public static GridSize =30;\r\n    public static IconSize = 20;\r\n    public static LineColor = '#000000';\r\n    public static MAP_WIDTH = 2048;\r\n    public static MAP_HEIGHT = 2048;\r\n    public static AI_NUM=10;\r\n    public static OBS_NUM=100;\r\n    private _bubbleHero:Bubble;\r\n    private _bubbleAIList:Bubble[];\r\n    private _bubbleIconMap:Map<Bubble,Laya.Sprite>;\r\n    private _delBubbleList:BubbleFactory[];\r\n    private _obstacleList:Obstacle[];\r\n    private _delObstacleList:Obstacle[];\r\n    private _bubbleList:Bubble[]=[];\r\n    private _boundary:Laya.Point;\r\n    private _emotionAnim:Laya.Animation;\r\n    //玩家击杀回调\r\n    public KillHandler:Laya.Handler;\r\n    //玩家等级排行刷新回调\r\n    public UpdateRankHandler:Laya.Handler;\r\n    private constructor(){\r\n        super()\r\n    }\r\n\r\n    public static get Instance():GameMap{\r\n        if(GameMap._instance == null){\r\n            GameMap._instance = new GameMap();\r\n        }\r\n        return this._instance;\r\n    }\r\n\r\n    public init(w:number,h:number){\r\n        Laya.stage.addChild(this);\r\n        this.size(w,h);\r\n        this._boundary = new Laya.Point();\r\n        this._boundary.x = Math.ceil(this.width/GameMap.GridSize)*GameMap.GridSize;\r\n        this._boundary.y = Math.ceil(this.height/GameMap.GridSize)*GameMap.GridSize;\r\n        this._emotionAnim = new Laya.Animation();\r\n        this.draw();\r\n        this.initPlayers();\r\n        this.initObstacles();\r\n    }\r\n\r\n    public addHero(b:Bubble){\r\n        this._bubbleHero = b;\r\n        b.setMoveBoundary(this._boundary.x,this._boundary.y);\r\n        this.addChild(b);\r\n    }\r\n\r\n    public update(){\r\n        this.checkUpdate();\r\n        this.checkScrollMap(this._bubbleHero.moveDelta.x,this._bubbleHero.moveDelta.y);\r\n        this.checkCollider();\r\n        this.checkOutOfStage();\r\n    }\r\n\r\n    /**\r\n     * 处理显示视窗之外的泡泡\r\n     */\r\n    private checkOutOfStage(){\r\n        let count = this._bubbleAIList.length;\r\n        for(let i=0;i<count;++i){\r\n            let b = this._bubbleAIList[i];\r\n            if(!this.isInStage(b)){\r\n                let icon = this._bubbleIconMap.get(b);\r\n                if(b.x+this.x < 0){\r\n                    icon.x = -this.x+icon.width/2;\r\n                }else if(b.x + this.x > Laya.stage.width){\r\n                    icon.x = Laya.stage.width-this.x-icon.width/2;\r\n                }else{\r\n                    icon.x = b.x;\r\n                }\r\n                if(b.y+this.y < 0){\r\n                    icon.y = -this.y+icon.height/2;\r\n                }else if(b.y + this.y > Laya.stage.height){\r\n                    icon.y = Laya.stage.height-this.y-icon.height/2;\r\n                }else{\r\n                    icon.y = b.y;\r\n                }\r\n                this.addChild(icon);\r\n            }else{\r\n                let icon = this._bubbleIconMap.get(b);\r\n                icon.removeSelf();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 泡泡移动到地图边界位置修正,返回英雄实际移动偏移量\r\n     */\r\n    private checkUpdate(){\r\n        this._bubbleHero.update();\r\n        let count = this._bubbleAIList.length;\r\n        for(let i=0;i<count;++i){\r\n            let ai = this._bubbleAIList[i];\r\n            ai.update();  \r\n        }\r\n    }\r\n\r\n    /**\r\n     * 对象是否在地图边界\r\n     * @param obj \r\n     */\r\n    public  isOnBorder(obj:Laya.Sprite):boolean{\r\n        if(obj.x <= obj.width/2 || obj.x >= this._boundary.x-obj.width/2)\r\n            return true;\r\n        if(obj.y <= obj.width/2 || obj.y >= this._boundary.y-obj.width/2)\r\n            return true;\r\n        return false;\r\n    }\r\n    /**\r\n     * 对象是否在舞台里面显示\r\n     * @param obj 要求轴心点居中\r\n     */\r\n    public isInStage(obj:Laya.Sprite):boolean{\r\n        if(obj.x+this.x<= -obj.width/2 || obj.x+this.x >= Laya.stage.width+obj.width/2)\r\n            return false;\r\n        if(obj.y+this.y<= -obj.height/2 || obj.y+this.y >= Laya.stage.height+obj.height/2)\r\n            return false;\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * 根据玩家位置和移动方向处理地图滚屏\r\n     * @param deltaX \r\n     * @param deltaY \r\n     */\r\n    private checkScrollMap(deltaX:number,deltaY:number){\r\n        let stageX = this.x+this._bubbleHero.x;\r\n        let stageY = this.y+this._bubbleHero.y;\r\n        if( deltaX>0 && stageX > Laya.stage.width/2 && (Laya.stage.width+Math.abs(this.x) < this._boundary.x)){\r\n            this.x -= deltaX;\r\n        }else if(deltaX < 0 && stageX< Laya.stage.width/2 && this._bubbleHero.x>Laya.stage.width/2){\r\n            this.x -= deltaX;\r\n        }\r\n        if( deltaY>0 && stageY > Laya.stage.height/2 && (Laya.stage.height+Math.abs(this.y) < this._boundary.y)){\r\n            this.y -= deltaY;\r\n        }else if(deltaY < 0 && stageY< Laya.stage.height/2 && this._bubbleHero.y>Laya.stage.height/2){\r\n            this.y -= deltaY;\r\n        }\r\n    }\r\n    /**\r\n     * 处理所有泡泡和障碍物之间碰撞\r\n     */\r\n    private checkCollider(){\r\n        let bCount = this._bubbleAIList.length;\r\n        //重置每个ai泡泡的视野目标列表\r\n        for(let i=0;i<bCount;++i){\r\n            let b = this._bubbleAIList[i];\r\n            b.clearVisions();\r\n        }\r\n        this._delBubbleList.length=0;\r\n        //英雄和其他泡泡碰撞处理\r\n        for(let i=0;i<bCount;++i){\r\n            if(!this._bubbleHero.isAlive) break;\r\n            let b = this._bubbleAIList[i];\r\n            if(!b.isAlive) continue;\r\n            if(GameUtil.powerDistance(this._bubbleHero.x,this._bubbleHero.y,b.x,b.y) <= Math.pow(this._bubbleHero.bubbleSize/2+b.bubbleSize/2,2)){\r\n                if(this._bubbleHero.level >  b.level){\r\n                    this._bubbleHero.kill(b);\r\n                    this._delBubbleList.push(b);\r\n                    this.delBubbleIcon(b);\r\n                }else if(this._bubbleHero.level < b.level){\r\n                    b.kill(this._bubbleHero);\r\n                    console.log('游戏结束');\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        //泡泡之间碰撞处理\r\n        for(let i=0;i<bCount;++i){\r\n            let b = this._bubbleAIList[i];\r\n            for(let j=i+1;j<bCount;++j){\r\n                if(!b.isAlive) break;\r\n                let b2 = this._bubbleAIList[j];\r\n                if(!b2.isAlive) continue;\r\n                if(GameUtil.powerDistance(b.x,b.y,b2.x,b2.y) <= Math.pow(b.bubbleSize/2+b2.bubbleSize/2,2)){\r\n                    if(b.level > b2.level){\r\n                        b.kill(b2);\r\n                        this._delBubbleList.push(b2);\r\n                        this.delBubbleIcon(b2);\r\n                    }else if(b.level < b2.level){\r\n                        b2.kill(b);\r\n                        this._delBubbleList.push(b);\r\n                        this.delBubbleIcon(b);\r\n                    }\r\n                }else if(GameUtil.powerDistance(b.x,b.y,b2.x,b2.y) <= Math.pow(b.visionRange/2+b2.width/2,2)){\r\n                    b.addVisionBubble(b2);\r\n                    b2.addVisionBubble(b);\r\n                }\r\n            }\r\n        }\r\n        this._bubbleAIList= this._delBubbleList.length>0? this._bubbleAIList.filter((ele,index,array)=>{\r\n            return this._delBubbleList.indexOf(ele) == -1;\r\n        }):this._bubbleAIList;\r\n\r\n        this._delObstacleList.length=0;\r\n        let count = this._obstacleList.length;\r\n        bCount = this._bubbleAIList.length;\r\n        for(let i=0;i<count;++i){\r\n            let obs = this._obstacleList[i];\r\n            if(!obs.displayedInStage) continue;\r\n            if(this._bubbleHero.isAlive && GameUtil.powerDistance(this._bubbleHero.x,this._bubbleHero.y,obs.x,obs.y) <= Math.pow(this._bubbleHero.bubbleSize/2+obs.obsSize/2+5,2)){\r\n                this._bubbleHero.eat(obs);\r\n                this.playEmotionAnim();\r\n                this._delObstacleList.push(obs);\r\n            }\r\n            for(let j=0;j<bCount;++j){\r\n                let b = this._bubbleAIList[j];\r\n                if(GameUtil.powerDistance(b.x,b.y,obs.x,obs.y) <= Math.pow(b.bubbleSize/2+obs.obsSize/2+5,2)){\r\n                    b.eat(obs);\r\n                    this._delObstacleList.push(obs);\r\n                }else if(GameUtil.powerDistance(b.x,b.y,obs.x,obs.y) <= Math.pow(b.visionRange/2+obs.obsSize/2,2)){\r\n                    b.addVisionObs(obs);\r\n                }\r\n            }\r\n        }\r\n        this._obstacleList= this._delObstacleList.length>0? this._obstacleList.filter((ele,index,array)=>{\r\n            return this._delObstacleList.indexOf(ele) == -1;\r\n        }):this._obstacleList;\r\n    }    \r\n\r\n    delBubbleIcon(b:Bubble){\r\n        this._bubbleIconMap.get(b).removeSelf();\r\n        this._bubbleIconMap.delete(b);\r\n    }\r\n\r\n    initPlayers(){\r\n        this._bubbleAIList = [];\r\n        this._delBubbleList=[];\r\n        this._bubbleIconMap= new Map<Bubble,Laya.Sprite>();\r\n        for(let i=0;i<GameMap.AI_NUM;++i){\r\n            let idx = Math.floor(Math.random()*Bubble.SKIN_LIST.length);\r\n            let posX = Bubble.InitSize+ Math.floor(Math.random()*(this._boundary.x-2*Bubble.InitSize));\r\n            let posY = Bubble.InitSize+ Math.floor(Math.random()*(this._boundary.y-2*Bubble.InitSize));\r\n            let rotation = Math.floor(Math.random()*360)\r\n            let ai = BubbleFactory.Create(Bubble.InitSize,idx,true);\r\n            ai.name = `路人${i}号`;\r\n            ai.bubbleRotation = rotation;\r\n            ai.pos(posX,posY);\r\n            ai.setMoveBoundary(this._boundary.x,this._boundary.y);\r\n            this._bubbleAIList.push(ai);\r\n            this.addChild(ai);\r\n            ai.startAILogic();\r\n            //每个泡泡AI对应一个圆形icon,在出舞台时以icon表现位置动向\r\n            let icon = new Laya.Sprite();\r\n            icon.size(GameMap.IconSize,GameMap.IconSize);\r\n            icon.pivot(icon.width/2,icon.height/2);\r\n            icon.graphics.drawCircle(icon.width/2,icon.height/2,icon.width/2,Bubble.SKIN_LIST[idx]);\r\n            icon.graphics.fillText(`${i+1}`,icon.width/2,3,'14px Arial','#000000','center');\r\n            this._bubbleIconMap.set(ai,icon);\r\n        }\r\n    }\r\n\r\n    initObstacles(){\r\n        this._obstacleList = [];\r\n        this._delObstacleList=[];\r\n        for(let i=0;i<GameMap.OBS_NUM;++i){\r\n            let size = GameMap.GridSize+Math.floor(Math.random()*GameMap.GridSize)\r\n            let skinIdx = Math.floor(Math.random()*8)\r\n            let x =  size+ Math.random()*(this._boundary.x-2*size);\r\n            let y = size+ Math.random()*(this._boundary.y-2*size);\r\n            let obs = ObstacleFactory.Create(skinIdx,size,1);\r\n            this._obstacleList.push(obs);\r\n            obs.pos(x,y);\r\n            this.addChild(obs);\r\n        }\r\n    }\r\n\r\n    private playEmotionAnim(){\r\n        //随机切换动画\r\n        if(Math.random()*100 > 30) return;\r\n        let list= [1, 10, 11, 13, 15, 16, 17, 18, 19, 2, 21, 23, 27, 4, 8, 9];\r\n        let idx = Math.floor(Math.random()*list.length);\r\n        this._emotionAnim.loadAnimation(ResData.getEmotionRes(list[idx]),Laya.Handler.create(this,this.onLoadAnimComplete),ResData.RES_ATLAS_EMOTION); \r\n    }\r\n\r\n    private onLoadAnimComplete(){\r\n        let bound = this._emotionAnim.getGraphicBounds();\r\n        Laya.stage.addChild(this._emotionAnim); \r\n        this._emotionAnim.pivot(bound.x+bound.width/2,bound.y+bound.height/2)\r\n        this._emotionAnim.pos(Laya.stage.width/2,100);\r\n        this._emotionAnim.autoPlay=true;\r\n        Laya.timer.once(1500,this,this.stopEmotionAnim)\r\n    }\r\n\r\n\r\n    private stopEmotionAnim(){\r\n        this._emotionAnim.clear();\r\n        this._emotionAnim.removeSelf();\r\n    }\r\n\r\n    private draw(){\r\n        this.graphics.clear();\r\n        let row = Math.ceil(this.height/GameMap.GridSize);\r\n        let col = Math.ceil(this.width/GameMap.GridSize);\r\n        for(let i=0;i<=row;++i){\r\n            let x0= 0;\r\n            let y0= (i)*GameMap.GridSize;\r\n            let x1 = this._boundary.x;\r\n            let y1 = y0;\r\n            this.graphics.drawLine(x0,y0,x1,y1,GameMap.LineColor,1);\r\n        }\r\n        for(let i=0;i<=col;++i){\r\n            let x0= (i)*GameMap.GridSize;\r\n            let y0= 0;\r\n            let x1 = x0;\r\n            let y1 = this._boundary.y;\r\n            this.graphics.drawLine(x0,y0,x1,y1,GameMap.LineColor,1);\r\n        }\r\n\r\n    }\r\n\r\n}","import Bubble, { BubbleFactory, BubbleState } from \"./Bubble\";\r\nimport { GameMap } from \"./GameMap\";\r\nimport { Obstacle, ObstacleFactory } from \"./Obstacle\";\r\n\r\nexport default class GameControl extends Laya.Script {\r\n    /** @prop {name:lastMousePosX, tips:\"整数类型示例\",default:0}*/\r\n    private _lastMousePosX:number;\r\n    /** @prop {name:lastMousePosY, tips:\"整数类型示例\",default:0}*/\r\n    private _lastMousePosY:number;    \r\n    private _map:GameMap;\r\n    private _bubbleHero:Bubble;\r\n    //触摸滑动距离控制缩放阀值\r\n    public static TouchThreshold:number=8;\r\n    constructor() { super(); }\r\n    \r\n    onEnable(): void {\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN,this,this.onTouchDown);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP,this,this.onTouchUp);\r\n        Laya.stage.on(Laya.Event.RESIZE,this,this.onResize);\r\n        this.initMap();\r\n    }\r\n\r\n    onDisable(): void {\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN,this,this.onTouchDown);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP,this,this.onTouchUp);\r\n        Laya.stage.off(Laya.Event.RESIZE,this,this.onResize);\r\n    }\r\n\r\n    onResize():void{\r\n        console.log(\"舞台宽高: \"+Laya.stage.width+\" \"+Laya.stage.height);\r\n        // let scene = this.owner as Laya.Scene;\r\n        // console.log(\"游戏场景位置尺寸: \"+scene.x+\" \"+scene.y+\" \"+scene.width+\" \"+scene.height);\r\n    }\r\n\r\n    onMouseMove():void{\r\n        //console.log(\"鼠标舞台坐标: \"+Laya.stage.mouseX+\" \"+Laya.stage.mouseY);\r\n    }\r\n\r\n    onTouchDown():void{\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE,this,this.onTouchMove);\r\n        this._lastMousePosX=Laya.stage.mouseX;;\r\n        this._lastMousePosY=Laya.stage.mouseY;\r\n        this._bubbleHero.startMove(this._map.mouseX,this._map.mouseY);\r\n    }\r\n\r\n    onTouchMove():void{\r\n        let curMouseX = Laya.stage.mouseX;\r\n        let curMouseY = Laya.stage.mouseY;\r\n        let deltaX =curMouseX-this._lastMousePosX;\r\n        let deltaY = curMouseY-this._lastMousePosY;\r\n        let len = Math.pow(deltaX,2)+Math.pow(deltaY,2);  \r\n        //为了防止抖动:设置距离阀门,小于设定值的直接忽略 \r\n        if(len<= Math.pow(GameControl.TouchThreshold,2)) return;\r\n        let targetRotation = Math.atan2(deltaY,deltaX)*180/Math.PI;\r\n        let targetR = Math.floor(targetRotation*10)*0.1;\r\n        this._bubbleHero.bubbleRotation = targetR;\r\n        this._lastMousePosX =curMouseX;\r\n        this._lastMousePosY = curMouseY;\r\n    }\r\n\r\n    onTouchUp():void{\r\n        Laya.stage.off(Laya.Event.MOUSE_MOVE,this,this.onTouchMove);\r\n        this._bubbleHero.stopMove();\r\n    }\r\n\r\n    onUpdate():void{\r\n        this._map.update();\r\n    } \r\n\r\n    initMap(){\r\n        this._map = GameMap.Instance;\r\n        this._map.init(GameMap.MAP_WIDTH,GameMap.MAP_HEIGHT);\r\n        this._bubbleHero = BubbleFactory.Create(Bubble.InitSize,0,false);\r\n        this._bubbleHero.name = \"普拉斯\";\r\n        this._bubbleHero.pos(Laya.stage.width/2,Laya.stage.height/2);      \r\n        this._map.addHero(this._bubbleHero);\r\n    }\r\n\r\n\r\n}","import { GameUtil } from \"./GameUtil\";\r\n\r\nexport default class test extends Laya.Script {\r\n    /** @prop {name:intType, tips:\"整数类型示例\", type:Int, default:1000}*/\r\n    public intType: number = 1000;\r\n    /** @prop {name:numType, tips:\"数字类型示例\", type:Number, default:1000}*/\r\n    public numType: number = 1000;\r\n    /** @prop {name:strType, tips:\"字符串类型示例\", type:String, default:\"hello laya\"}*/\r\n    public strType: string = \"hello laya\";\r\n    /** @prop {name:boolType, tips:\"布尔类型示例\", type:Bool, default:true}*/\r\n    public boolType: boolean = true;\r\n    // 更多参数说明请访问: https://ldc2.layabox.com/doc/?nav=zh-as-2-4-0\r\n    \r\n    constructor() { super(); }\r\n    private _graphic:Laya.Graphics;\r\n    private _sp:Laya.Sprite;\r\n    private _bubbleSp:Laya.Sprite;\r\n    private _anim:Laya.Animation;\r\n    private _offset=50;\r\n    private _itemList:Laya.Sprite[];\r\n    private _curRotation:number=0;\r\n    onEnable(): void {\r\n        console.log(\"enable script\")\r\n        this._bubbleSp = new Laya.Sprite();\r\n        this._bubbleSp.size(50,50);\r\n        this._bubbleSp.pivot(25,25);\r\n        this.owner.addChild(this._bubbleSp);\r\n        this._sp= new Laya.Sprite();\r\n        this._sp.size(50,50);\r\n        this._sp.pivot(25,25);\r\n        this._sp.pos(25,25);\r\n        this._bubbleSp.addChild(this._sp);\r\n\r\n        this._bubbleSp.pos(200,100);\r\n        this._graphic = this._sp.graphics;  \r\n        this._anim = new Laya.Animation();\r\n        this._anim.loadAnimation(\"chat/anim/emoji_1.ani\",Laya.Handler.create(this,()=>{\r\n            let bound = this._anim.getGraphicBounds();\r\n            //this._anim.size(165,165);\r\n            this._bubbleSp.addChild(this._anim); \r\n            this._anim.pivot(bound.x+bound.width/2,bound.y+bound.height/2)\r\n            let scale = Math.min(50/bound.width,50/bound.height);\r\n            this._anim.scale(0.3,0.3);\r\n            this._anim.pos(25,25);\r\n            this._anim.autoPlay=true;\r\n            //this._anim.graphics.drawCircle(bound.width/2,bound.height/2,bound.height/2,'#0000ff');\r\n        }),\"res/atlas/chat/emoji.atlas\"); \r\n\r\n        // let anim = new Laya.Animation();\r\n        // anim.loadAnimation(\"chat/anim/emoji_1.ani\",Laya.Handler.create(this,()=>{\r\n        //     let bound = anim.getGraphicBounds();\r\n        //     console.log(\"anim222 w h\"+bound.width+\" \"+bound.height)\r\n        // }),\"res/atlas/chat/emoji.atlas\"); \r\n        // anim.autoPlay=true;\r\n        // Laya.stage.addChild(anim); \r\n\r\n        this.drawMove(25,25,25,50);\r\n        Laya.stage.on(Laya.Event.MOUSE_DOWN,this,this.onTouchDown);\r\n        Laya.stage.on(Laya.Event.MOUSE_UP,this,this.onTouchUp);\r\n        this.initItems();\r\n        this.drawCircle(300,200,50,60);\r\n        this.drawCircleEx(800,400,40,60,0);\r\n\r\n        // GameUtil.tween();\r\n\r\n    }\r\n\r\n    initItems(){\r\n        let colorList = this.gradientColors(\"#ff0000\",\"#0000ff\",100);\r\n        this._itemList = [];\r\n        for(let i=0;i<100;++i){\r\n            let size = 5+Math.floor(Math.random()*10)\r\n            let colorIdx = 1+ Math.floor(Math.random()*colorList.length-2);\r\n            let x = Math.random()*Laya.stage.width;\r\n            let y = Math.random()*Laya.stage.height;\r\n            let sp = new Laya.Sprite();\r\n            sp.size(size,size);\r\n            sp.pivot(size/2,size/2);\r\n            sp.graphics.drawCircle(size/2,size/2,size/2,colorList[colorIdx]);\r\n            this._itemList.push(sp);\r\n            sp.pos(x,y);\r\n            Laya.stage.addChild(sp);\r\n        }\r\n    }\r\n\r\n    lastMousePosX:number;\r\n    lastMousePosY:number;\r\n    curMouseX:number;\r\n    curMouseY:number;\r\n    onTouchDown(){\r\n        this.drawMove(25,25,25,this._offset);\r\n        this.lastMousePosX=Laya.stage.mouseX;\r\n        this.lastMousePosY=Laya.stage.mouseY;\r\n        this._sp.rotation = Math.atan2(this.lastMousePosY-this._bubbleSp.y,this.lastMousePosX-this._bubbleSp.x)*180/Math.PI;\r\n        this._curRotation = this._sp.rotation;\r\n        Laya.stage.on(Laya.Event.MOUSE_MOVE,this,this.onTouchMove);\r\n        Laya.timer.loop(30,this,this.onBallMove);\r\n    }\r\n\r\n    onTouchMove(){\r\n        this.curMouseX = Laya.stage.mouseX;\r\n        this.curMouseY = Laya.stage.mouseY;\r\n        let deltaX =this.curMouseX-this.lastMousePosX;\r\n        let deltaY = this.curMouseY-this.lastMousePosY;\r\n        let len = Math.pow(deltaX,2)+Math.pow(deltaY,2);\r\n        //console.log(\"滑动距离: \"+Math.sqrt(len));      \r\n        //为了防止抖动:设置距离阀门,小于设定值的直接忽略 \r\n        if(len<= Math.pow(8,2)) return;\r\n        let targetRotation = Math.atan2(deltaY,deltaX)*180/Math.PI;\r\n        // console.log(\"targetRotation \"+targetRotation);\r\n        let targetR = Math.floor(targetRotation*10)*0.1;\r\n        //console.log(\"targetR \"+targetR);\r\n        // let targetR2 = Math.floor(targetRotation);\r\n        // console.log(\"targetR2 \"+targetR2);\r\n        //targetRotation = targetRotation<0?targetRotation+360:targetRotation;\r\n        //console.log(\"targetRotation \"+targetRotation)\r\n\r\n        // if(Math.abs(targetRotation-this._sp.rotation)>10 && Math.abs(targetRotation-this._sp.rotation) <90){\r\n        //     let tmp = targetRotation;\r\n        //     targetRotation = targetRotation>this._sp.rotation?this._sp.rotation+10:this._sp.rotation-10;\r\n        //     // console.log(`修正旋转值: ${tmp}=>${targetRotation}`)\r\n        // }\r\n\r\n        this._sp.rotation = targetR;//targetRotation-this._sp.rotation<10? targetRotation : this._sp.rotation+10;\r\n        // if(targetRotation != 0){\r\n        //     let delta = targetRotation-this._curRotation;\r\n        //     this._curRotation += delta*0.5;\r\n        //     this._curRotation = Math.abs(this._curRotation) > 180 ? (this._curRotation > 0 ? this._curRotation - 360 : this._curRotation + 360) : this._curRotation;\r\n        //     this._sp.rotation =this._curRotation;\r\n        // }\r\n\r\n        // console.log(this._sp.rotation)\r\n        this.lastMousePosX =this.curMouseX;\r\n        this.lastMousePosY = this.curMouseY;\r\n    }\r\n\r\n    onTouchUp(){\r\n        Laya.stage.off(Laya.Event.MOUSE_MOVE,this,this.onTouchMove);\r\n        Laya.timer.clear(this,this.onBallMove);\r\n        this.tweenNormal();\r\n        //this.resetNormal();\r\n    }\r\n\r\n    playScaleAnim(){\r\n        Laya.Tween.clearAll(this._sp);\r\n        this._sp.scale(1,1);\r\n        Laya.Tween.from(this._sp,{scaleX:1.3,scaleY:0.7},500,Laya.Ease.backOut);\r\n        //随机切换动画\r\n        let list= [1, 10, 11, 13, 15, 16, 17, 18, 19, 2, 21, 23, 27, 4, 8, 9];\r\n        let idx = Math.floor(Math.random()*list.length);\r\n        this._anim.loadAnimation(`chat/anim/emoji_${list[idx]}.ani`,null,\"res/atlas/chat/emoji.atlas\");\r\n    }\r\n\r\n    tweenNormal(){\r\n        Laya.timer.loop(30,this,this._doTweenNormal);\r\n    }\r\n\r\n    _doTweenNormal(){\r\n        this._offset-=10;\r\n        let flag= this.drawMove(25,25,25,this._offset);\r\n        if(!flag){\r\n            Laya.timer.clear(this,this._doTweenNormal);\r\n            this._offset = 50;\r\n        }\r\n    }\r\n\r\n    resetNormal(){\r\n        this.drawMove(25,25,25,0);\r\n    }\r\n\r\n    onBallMove(){\r\n        var speed = 5;\r\n        var radians = this._sp.rotation*Math.PI/180;\r\n        var xOffset = Math.cos(radians)*speed;\r\n        var yOffset = Math.sin(radians)*speed;\r\n        this._bubbleSp.x += xOffset;\r\n        this._bubbleSp.y += yOffset;\r\n        let delList =[];\r\n        for(let item in this._itemList){\r\n            let sp = this._itemList[item];\r\n            if(this.powDistance(this._bubbleSp.x,this._bubbleSp.y,sp.x,sp.y) <= Math.pow(sp.width/2+this._sp.width/2+5,2)){\r\n                // console.log(\"吃小球\");\r\n                delList.push(sp);\r\n                sp.removeSelf();\r\n                this.playScaleAnim();\r\n            }\r\n        }\r\n        delList.forEach(element => {\r\n            let index = this._itemList.indexOf(element);\r\n            index !=-1 && this._itemList.splice(index,1);\r\n        });\r\n        // console.log(`还剩${this._itemList.length}个小球`);\r\n    }\r\n\r\n    powDistance(x1,y1,x2,y2){\r\n        return Math.pow(x2-x1,2)+Math.pow(y2-y1,2);\r\n    }\r\n\r\n\r\n\r\n    drawMove(centerX, centerY, rad, offset){\r\n        var points = 512; //多边形边的总数目\r\n        var twoPi = 2 * Math.PI;\r\n        var ptList = [];\r\n        var theta = -Math.PI*2/3;\r\n        var x0, y0;\r\n        x0 = centerX + rad * Math.cos(theta);\r\n        y0 = centerY + rad * Math.sin(theta);\r\n        let flag;\r\n        if(offset > rad/2){\r\n            for (var i = 0; i < points*2/3; i++) {\r\n                theta += twoPi / points;\r\n                let x = centerX + rad * Math.cos(theta)-x0;\r\n                let y = centerY + rad * Math.sin(theta)-y0;\r\n                ptList.push(x);\r\n                ptList.push(y);\r\n            }\r\n            //另外一半用曲线绘制\r\n            let x1 = ptList[ptList.length-2]+x0;\r\n            let y1 = ptList[ptList.length-1]+y0;\r\n            let x3 = ptList[0]+x0;\r\n            let y3 = ptList[1]+y0;\r\n            let x2 = x1-offset;\r\n            let y2 = (y1+y3)/2;\r\n            for(let i=0;i<=points/3;++i){\r\n                let percent = i/(points/3);\r\n                let x = this.getBezieratX(x1,x2,x3,percent)-x0;\r\n                let y = this.getBezieratY(y1,y2,y3,percent)-y0;\r\n                ptList.push(x);\r\n                ptList.push(y);\r\n            }\r\n            flag=true;\r\n        }else{\r\n            for (var i = 0; i < points; i++) {\r\n                theta += twoPi / points;\r\n                let x = centerX + rad * Math.cos(theta)-x0;\r\n                let y = centerY + rad * Math.sin(theta)-y0;\r\n                ptList.push(x);\r\n                ptList.push(y);\r\n            }\r\n            flag =false;\r\n        }\r\n        this._graphic.clear();\r\n        this._graphic.drawPoly(x0,y0,ptList,'#ff0000','#ffff00',2);    \r\n        return flag;\r\n    }\r\n\r\n    setLinePoints(iterations) {\r\n        var pointList:any = {};\r\n        pointList.first = {\r\n            x: 0,\r\n            y: 1\r\n        };\r\n        var lastPoint = {\r\n            x: 1,\r\n            y: 1\r\n        }\r\n        var minY = 1;\r\n        var maxY = 1;\r\n        var point;\r\n        var nextPoint;\r\n        var dx, newX, newY;\r\n     \r\n        pointList.first.next = lastPoint;\r\n        for (var i = 0; i < iterations; i++) {\r\n            point = pointList.first;\r\n            while (point.next != null) {\r\n                nextPoint = point.next;\r\n     \r\n                dx = nextPoint.x - point.x;\r\n                newX = 0.5 * (point.x + nextPoint.x);\r\n                newY = 0.5 * (point.y + nextPoint.y);\r\n                newY += dx * (Math.random() * 2 - 1);\r\n     \r\n                var newPoint:any = {\r\n                    x: newX,\r\n                    y: newY\r\n                };\r\n     \r\n                //min, max\r\n                if (newY < minY) {\r\n                    minY = newY;\r\n                } else if (newY > maxY) {\r\n                    maxY = newY;\r\n                }\r\n     \r\n                //put between points\r\n                newPoint.next = nextPoint;\r\n                point.next = newPoint;\r\n     \r\n                point = nextPoint;\r\n            }\r\n        }\r\n     \r\n        var normalizeRate = 1 / (maxY - minY);\r\n        point = pointList.first;\r\n        while (point != null) {\r\n            point.y = normalizeRate * (point.y - minY);\r\n            point = point.next;\r\n        }\r\n     \r\n        return pointList;\r\n    }\r\n\r\n    drawCircle(centerX, centerY, minRad, maxRad){\r\n        var points = 512; //多边形边的总数目\r\n        var rad, theta;\r\n        var twoPi = 2 * Math.PI;\r\n        var x0, y0; \r\n        theta = 0;\r\n        rad =  minRad + Math.random() * (maxRad - minRad); \r\n        var ptList = [];\r\n        x0 = centerX + rad * Math.cos(theta);\r\n        y0 = centerY + rad * Math.sin(theta);\r\n        for (var i = 0; i < points; i++) {\r\n            theta += twoPi / points;\r\n            rad = minRad + Math.random() * (maxRad - minRad); //随机半径\r\n            let x = centerX + rad * Math.cos(theta)-x0;\r\n            let y = centerY + rad * Math.sin(theta)-y0;\r\n            ptList.push(x);\r\n            ptList.push(y);\r\n        }\r\n        Laya.stage.graphics.drawPoly(x0,y0,ptList,'#00ff00');\r\n    }\r\n\r\n    drawCircleEx(centerX, centerY, minRad, maxRad, phase) {\r\n        var point;\r\n        var rad, theta;\r\n        var twoPi = 2 * Math.PI;\r\n        var x0, y0;\r\n        var ptList = [];\r\n        //生成分形细分顶点链表，用来获取随机半径, 9次迭代将返回512个顶点。\r\n        var pointList = this.setLinePoints(9);\r\n        point = pointList.first;\r\n        theta = phase;\r\n        rad = minRad + point.y * (maxRad - minRad);\r\n        x0 = centerX + rad * Math.cos(theta);\r\n        y0 = centerY + rad * Math.sin(theta);\r\n        while (point.next != null) {\r\n            point = point.next;\r\n            theta = twoPi * point.x + phase;\r\n            rad = minRad + point.y * (maxRad - minRad);\r\n            //console.log(\"x y \"+point.x+\" \"+point.y)\r\n            let x = centerX + rad * Math.cos(theta)-x0;\r\n            let y = centerY + rad * Math.sin(theta)-y0;\r\n            ptList.push(x);\r\n            ptList.push(y);\r\n        }\r\n        Laya.stage.graphics.drawPoly(x0,y0,ptList,'#ffff00');\r\n    }\r\n    \r\n    public  getBezieratX(x0:number,x1:number,x2:number, t: number): number {\r\n\t\tt = Math.min(t, 1);\r\n\t\tlet target: number;\r\n\t\ttarget = Math.pow(1 - t, 2) * x0 + 2 * t * (1 - t) * x1 + Math.pow(t, 2) * x2;\r\n\t\treturn target;\r\n    }\r\n    \r\n    public  getBezieratY(y0:number,y1:number,y2:number, t: number): number {\r\n\t\tt = Math.min(t, 1);\r\n\t\tlet target: number;\r\n\t\ttarget = Math.pow(1 - t, 2) * y0 + 2 * t * (1 - t) * y1 + Math.pow(t, 2) * y2;\r\n\t\treturn target;\r\n\t}\r\n\r\n\t/**\r\n\t  * 获取从开始颜色到结束颜色的简便颜色数组\r\n\t  * @param start 开始颜色\r\n\t  * @param end 结束颜色\r\n\t  * @param steps 要分的份数\r\n\t  * @param gamma \r\n\t  */\r\n     public  gradientColors(start, end, steps, gamma?) {\r\n\t\tvar i, j, ms, me, output = [], so = [];\r\n\t\tgamma = gamma || 1;\r\n\t\tvar normalize = function (channel) {\r\n\t\t\treturn Math.pow(channel / 255, gamma);\r\n\t\t};\r\n\t\tstart = this.parseColor(start).map(normalize);\r\n\t\tend = this.parseColor(end).map(normalize);\r\n\t\tfor (i = 0; i < steps; i++) {\r\n\t\t\tms = i / (steps - 1);\r\n\t\t\tme = 1 - ms;\r\n\t\t\tfor (j = 0; j < 3; j++) {\r\n\t\t\t\tso[j] = this.pad(Math.round(Math.pow(start[j] * me + end[j] * ms, 1 / gamma) * 255).toString(16));\r\n\t\t\t}\r\n\t\t\toutput.push('#' + so.join(''));\r\n\t\t}\r\n\t\treturn output;\r\n    }\r\n    \r\n    private  parseColor(hexStr) {\r\n\t\treturn hexStr.length === 4 ? hexStr.substr(1).split('').map(function (s) { return 0x11 * parseInt(s, 16); }) : [hexStr.substr(1, 2), hexStr.substr(3, 2), hexStr.substr(5, 2)].map(function (s) { return parseInt(s, 16); })\r\n\t};\r\n\tprivate  pad(s) {\r\n\t\treturn (s.length === 1) ? '0' + s : s;\r\n\t}\r\n\r\n    onDisable(): void {\r\n        console.log(\"disable script\")\r\n    }\r\n}","/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\nimport GameControl from \"./GameControl\"\nimport test from \"./test\"\r\n/*\r\n* 游戏初始化配置;\r\n*/\r\nexport default class GameConfig{\r\n    static width:number=720;\r\n    static height:number=1280;\r\n    static scaleMode:string=\"fixedwidth\";\r\n    static screenMode:string=\"vertical\";\r\n    static alignV:string=\"top\";\r\n    static alignH:string=\"left\";\r\n    static startScene:any=\"demo.scene\";\r\n    static sceneRoot:string=\"\";\r\n    static debug:boolean=false;\r\n    static stat:boolean=false;\r\n    static physicsDebug:boolean=false;\r\n    static exportSceneToJson:boolean=true;\r\n    constructor(){}\r\n    static init(){\r\n        var reg: Function = Laya.ClassUtils.regClass;\r\n        reg(\"GameControl.ts\",GameControl);\n        reg(\"test.ts\",test);\r\n    }\r\n}\r\nGameConfig.init();","import GameConfig from \"./GameConfig\";\r\nimport GameControl from \"./GameControl\";\r\nclass Main {\r\n\tconstructor() {\r\n\t\tConfig.isAntialias=true;\r\n\t\t//根据IDE设置初始化引擎\t\t\r\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\r\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\r\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\r\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\r\n\t\tLaya.stage.scaleMode = \tGameConfig.scaleMode;\r\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\r\n\t\tLaya.stage.alignV = GameConfig.alignV;\r\n\t\tLaya.stage.alignH = GameConfig.alignH;\r\n\t\tLaya.stage.bgColor='#eeeeee';\r\n\t\tLaya.stage.frameRate = Laya.Stage.FRAME_SLOW;\r\n\t\t//兼容微信不支持加载scene后缀场景\r\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\r\n\t\tLaya.Stat.show(0,0);\r\n\t\t//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）\r\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\r\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\r\n\t\tif (GameConfig.stat) Laya.Stat.show();\r\n\t\tLaya.alertGlobalError(true);\r\n\t\t//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程\r\n\t\tLaya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\r\n\t}\r\n\r\n\tonVersionLoaded(): void {\r\n\t\t//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图\r\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\r\n\t}\r\n\r\n\tonConfigLoaded(): void {\r\n\t\t//加载IDE指定的场景\r\n\t\tGameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\r\n\t}\r\n}\r\n//激活启动类\r\nnew Main();\r\n"],"names":[],"mappings":"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"}